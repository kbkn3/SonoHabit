# 要件定義書: 楽器演奏練習補助アプリケーション (仮称)

## 1. アプリケーション概要

* **名称:** (仮称) 楽器演奏練習補助アプリケーション
* **プラットフォーム:** macOS / iOS
* **コンセプト:** 楽器演奏者が日々の練習メニューを管理し、メトロノーム、録音、音源再生機能を活用して効率的に練習を進めるための補助ツール。自己評価によるモチベーション維持もサポートする。

## 2. ターゲットユーザー

* **楽器:**
  * 初期ターゲット: ギター、ベース
  * 将来的な拡張: 他の楽器（ピアノ、管楽器等）に対応可能な設計とする。
* **レベル:** 自分で練習メニューを計画・実行できる中級者以上を初期ターゲットとする。
* **目的:** 基礎練習（スケール、アルペジオ、クロマチック等）の反復、曲の練習。日々の練習管理と振り返り。

## 3. 主要機能（初期開発スコープ）

### 3.1. 練習メニュー管理

* ユーザーは日々の練習メニュー（例: 「基礎練セット」「〇〇曲練習」）を作成・編集・削除できる。
* 練習メニューには複数の練習項目（例: 「Cメジャースケール」「〇〇曲 Aメロ」）を登録可能。
* 練習項目ごとに、使用するツール（メトロノーム、録音、音源再生）や設定（BPM、小節数、音源ファイル等）を紐付けられる。
* 練習メニュー内の練習項目を任意の順番に並び替えられる。
* よく使う練習パターンのテンプレート（例: 「ギタースケール基礎」「ベースクロマチック」）を提供する。

### 3.2. メトロノーム機能

* 練習項目に紐づけて使用する。
* **BPM設定:**
  * 手動での自由設定。
  * 指定範囲（例: 120-140bpm）での段階的自動上昇（刻み幅は設定可能、例: 10bpm）。
* **設定項目:**
  * 小節数。
  * 繰り返し回数。
* **カスタマイズ:**
  * 拍子（例: 4/4, 3/4）。
  * アクセントの有無・位置。
  * クリック音の音色（複数から選択可能）。

### 3.3. 録音機能

* 練習項目に紐づけて使用する。
* **入力ソース:**
  * Mac/iOSデバイスの内蔵マイク。
  * 接続された外部オーディオインターフェース。
* **オーディオインターフェース設定:**
  * 入力チャンネル選択。
  * 入力ゲイン（音量）調整。
* **データ管理:**
  * 録音データは、実行した練習メニュー、練習項目、日付と自動的に紐付けて**各デバイスのローカルストレージに保存**する。
* **ファイル形式:**
  * **MP3** を採用（互換性重視）。
  * ビットレートは最低限（例: 128kbps程度）とする。設定変更の要否はオプション。
* **再生:**
  * 録音した演奏を再生（聴き直し）。
  * 同じ練習項目で録音された過去のテイクを切り替えて再生可能。

### 3.4. 音源再生機能

* 主に曲練習の練習項目に紐づけて使用する。
* **音源ソース:**
  * デバイスのローカルストレージ。
  * クラウドストレージ（iCloud Drive, Google Drive, Dropbox）からのファイルインポート。
* **対応形式:** MP3, WAV, AAC, M4A など、OS標準でサポートされる一般的なオーディオファイル形式。
* **再生コントロール:**
  * 再生 / 一時停止。
  * 指定区間のA-Bループ再生。
  * 再生テンポ（速度）変更。
  * ピッチ（音高）変更。

### 3.5. 録音と音源の同時再生

* インポートした音源を再生しながら、自身の演奏を録音できる。
* 再生時に、音源の音量と録音した演奏の音量のバランスを調整できる。

### 3.6. データ同期 (iCloud経由)

* **同期対象:**
  * ユーザーが作成した練習メニュー、およびその設定。
  * アプリケーションの各種設定。
  * **録音データのメタデータ**（ファイル名、録音日時、関連する練習メニュー/項目、自己評価など）。
* **同期対象外:**
  * **録音ファイル本体は同期しない。**
* **注意:** 異なるデバイスで録音ファイル本体を聴く場合は、ユーザーによる別途ファイル転送が必要となる。

### 3.7. 自己評価機能

* 各練習項目（またはメニュー完了時）に、その日の出来栄えをユーザーが3段階のシンプルな評価（例: 絵文字 🙂😐😕 ）で記録できる。
* この評価は録音メタデータと共に保存・同期される。

## 4. UI/UX

* macOS および iOS の標準的なデザインガイドラインに準拠する。
* シンプルで直感的、かつ練習の邪魔にならないスムーズな操作性を目指す。
* Mac版とiOS版で画面サイズに応じたレイアウト最適化を行うが、機能的な差異は最小限にする。

## 5. 将来的な拡張機能（優先度順）

1. **進捗管理:** 練習時間、達成度（BPMなど）、自己評価の履歴を記録・可視化（グラフ等）。
2. **楽譜/コード譜表示:** 音源に合わせて楽譜やコード譜を表示する機能。
3. **録音データ管理強化:** メタデータへの自由なメモ・タグ付け機能。
4. **収益化機能:** 機能制限解除、クラウドストレージ（録音ファイル含むオプション）提供など。
5. **初心者向けガイド:** 推奨練習メニュー提案機能。
6. **講師連携:** 課題の授受機能。
7. **共有機能:** ユーザー間での練習メニュー共有。
8. **AIアドバイス:** 演奏に対する簡易フィードバック機能。

## 6. 提供形態

* ユニバーサルアプリ（Mac/iOS共通購入）か、個別アプリとするかは、開発の複雑性や収益化戦略を踏まえ別途検討する。

## 7. 初期開発スコープ外（明確化）

* 録音ファイル本体のクラウド同期・管理。
* 高度な音声編集機能（カット、エフェクト等）。
* リアルタイムでの演奏評価・採点機能。
* 他ユーザーとのリアルタイムセッション機能。
